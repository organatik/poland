<div class="col-md-3 wrapper">
  <div class="row">
    <div class="col-md-12 header">
      <select>
        <option>Пункт 1</option>
        <option>Пункт 2</option>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 body">
      <div class="row wrapper-msg" *ngFor="let obj of users;let i = index" (click)="newSelectedItem(obj)"  [class.active]="obj.last_read_id === selectedItem.last_read_id" >
        <div class="col-md-2 photo">
          <span class="avatar">
            <img *ngIf="obj.another_user && obj.another_user.avatar_url" [src]="obj.another_user.avatar_url" alt="Avatar">
            <img *ngIf="obj.another_user && !obj.another_user.avatar_url" src="../../../../assets/avatar.png" alt="Avatar">
          </span>
        </div>
        <div *ngIf="obj.another_user" class="col-md-10">

          <p>{{ obj.another_user.name }}
            <span class="pull-right">{{ obj.last_message.chat_message.time | date }}</span>
          </p>
          <p>{{ obj.another_user.country }}, {{ calculateAge(obj.another_user.birth_date) }} age </p>

          <p *ngIf='obj.last_message' style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis">
            <span class="msg-status">
              <i *ngIf="obj.last_message.message_id !== obj.last_read_id" class="fa fa-envelope" aria-hidden="true"></i>
              <i *ngIf="obj.last_message.message_id === obj.last_read_id" class="fa fa-envelope-open" aria-hidden="true"></i>
              <!--<i class="fa fa-times-circle" aria-hidden="true"></i>-->
            </span>
            {{ obj.last_message.chat_message.text }}
          </p>
        </div>
      </div>
      <div class="row empty-msg">
        <div class="col-md-2">
          <span class="avatar">

          </span>
        </div>
        <div class="col-md-10 body">
          <span></span> <span></span>
          <p></p>
          <p></p>
        </div>
      </div>
    </div>
  </div>
</div>
